<svg width="500" height="500" xmlns="http://www.w3.org/2000/svg">

  <!-- Castle tower -->
  <rect id="tower" x="180" y="60" width="40" height="180" fill="#8B7D6B"/>

  <!-- Castle walls (masked) -->
  <g mask="url(#wallMask)">
    <rect id="wall1" x="50" y="230" width="320" height="80" fill="#8B7D6B"/>
    <rect id="wall2" x="140" y="120" width="220" height="90" fill="#8B7D6B"/>
  </g>

  <!-- Tower windows -->
  <circle cx="195" cy="90" r="25" fill="white"/>
  <circle cx="205" cy="135" r="20" fill="black"/>
  <circle cx="185" cy="165" r="20" fill="black"/>

  <!-- Moat and entrance (masked) -->
  <g mask="url(#moatMask)">
    <path id="moat" d="M50,310 Q140,370 290,310 T490,310"/>
    <line x1="60" y1="330" x2="480" y2="330" stroke="#8B7D6B" stroke-width="5"/>
  </g>

  <!-- Masks -->
  <mask id="wallMask">
    <rect width="50%" height="100%" fill="white"/>
    <circle cx="290" cy="145" r="30" fill="black"/>
  </mask>
  <mask id="moatMask">
    <rect width="60%" height="100%" fill="white"/>
    <line x1="70" y1="330" x2="280" y2="330" stroke="black" stroke-width="5"/>
  </mask>

</svg>